Читатель

Читатель может брать книги

Реализовать хранение сущностей в БД
Реализовать сервисы и контроллеры для операций:
1 - получить все книги, который читает читатель с ID
2 - получить все книги автора с ID
3 - получить всех пользователей, которые читают книги автора (Лев Толствой ID 5)

** требования от Светы
- сохранять историю книги
новая таблица

| id | book_id | user_id | start_at | end_at |

library/user/{userId}/books
library/authors/{authorId}/books
library/authors/{authorId}/users

/===/====/===/
И да, хорошего способа прогрузить весь граф hibernate-сущности в JSON нет — весь stackoverflow ищет

Либо FetchType.EAGER — но тогда на каждый запрос грузится все дерево.
FetchType.EAGER будет считаться достойным решеним в контексте задания, т.к. вложенность небольшая


Либо пробежаться по всем вложенным сущностям и сделать их просмотр, либо HibernateUtils.unproxy()

Такая грязь, всю магию убивает.

Нужно изобрести свой entity.deepFetch()
(Не вам, а индустрии)

bookRep.findAllByAuthor_Id => List<User> (вопрос: список уникальных пользователей)
{
 ....
 user: {
    ....
 }
 author: {
    ...
 }
}

{
    ...
}